(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{382:()=>{},1450:e=>{e.exports={Header:"Translator_Header__7JCUx",Bar:"Translator_Bar__CfQEa",Translator:"Translator_Translator__soXIY",Title:"Translator_Title__H9Gbx",Texts:"Translator_Texts__cZLX5",Input:"Translator_Input__iw6s4",Output:"Translator_Output__hEO8N",InputText:"Translator_InputText__nKjmf",OutputText:"Translator_OutputText__Fb3cQ",CopyButton:"Translator_CopyButton__EG_Q_"}},2628:(e,t,a)=>{"use strict";a.d(t,{Translator:()=>I});var l=a(3365),s=a(1521),r=a(5709),n=a.n(r),o=a(4514),u=a(3591),i=a(7363);function c(){return Math.random()}function d(){return(e,t)=>{let{type:a,pattern:l}=t;return l.split(",")[0].length/5}}function p(e){return new RegExp("^".concat(e,"$").replace(/\*/g,"(.+)"))}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,a=Math.floor(t()*e.length);return e[a]}async function m(){return(await a.e(541).then(a.t.bind(a,1541,17))).default}var x=a(6313),_=a(3423),f=a.n(_);function g(e){let{value:t,onChange:a}=e;return(0,l.jsxs)("fieldset",{className:f().LayoutSelector,children:[(0,l.jsx)("legend",{children:(0,l.jsx)("span",{className:f().Label,children:"Layout"})}),(0,l.jsxs)("div",{className:f().Option,children:[(0,l.jsx)("input",{type:"radio",name:"layout",id:"layout-rows",value:"rows",checked:"rows"===t,onChange:e=>{a(e.target.value)}}),(0,l.jsx)("label",{htmlFor:"layout-rows",children:(0,l.jsx)(x.rMd,{className:f().LayoutIcon,title:"Rows","aria-label":"Rows"})})]}),(0,l.jsxs)("div",{className:f().Option,children:[(0,l.jsx)("input",{type:"radio",name:"layout",id:"layout-columns",value:"columns",checked:"columns"===t,onChange:e=>{a(e.target.value)}}),(0,l.jsx)("label",{htmlFor:"layout-columns",children:(0,l.jsx)(x.dK6,{className:f().LayoutIcon,title:"Columns","aria-label":"Columns"})})]})]})}var y=a(3390),v=a.n(y),j=a(1444),b=a(9351),C=a.n(b);function T(e){let{value:t,onChange:a}=e;return(0,l.jsx)(j.A,{id:"hungerLevel",className:C().Slider,min:1,max:3,value:t,onChange:a})}function S(e){let{layout:t,setLayout:a,barSize:r,setBarSize:n,hungerLevel:o,setHungerLevel:u,customRandomSeed:c,setCustomRandomSeed:d,autoRandomSeed:p,setProbabilityFunction:h}=e,[m,x]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:v().Controls,"data-state":m?"open":"closed",children:[(0,l.jsxs)("button",{className:v().ToggleButton,type:"button",onClick:e=>{x(e=>!e)},children:[(0,l.jsx)(i.OiG,{className:v().ToggleIcon})," Chocontrols"]}),(0,l.jsxs)("div",{className:v().Fields,children:[(0,l.jsx)(g,{value:t,onChange:a}),(0,l.jsxs)("div",{className:v().Field,children:[(0,l.jsx)("label",{htmlFor:"hungerLevel",children:"Hunger Level"}),(0,l.jsx)(T,{value:o,onChange:u})]}),(0,l.jsxs)("div",{className:v().Field,children:[(0,l.jsx)("label",{htmlFor:"randomSeed",children:"Random Seed"}),(0,l.jsx)("input",{className:v().Input,id:"randomSeed",type:"text",size:6,value:c,placeholder:p,onChange:e=>{d(e.target.value)}})]}),(0,l.jsxs)("div",{className:v().Field,children:[(0,l.jsx)("label",{htmlFor:"barSize",children:"Bar Size"}),(0,l.jsx)("input",{className:v().Input,id:"barSize",type:"number",min:1,max:30,value:r,onChange:e=>{n(+e.target.value)}})]})]})]})}var N=a(1450),L=a.n(N);let w=[function(){return(e,t)=>{let{type:a,pattern:l}=t;return 0}},function(){return(e,t)=>{let{type:a,pattern:l}=t,s=l.split(",")[0];return"exact"===a?s.length/6:s.length/7}},d,function(){return(e,t)=>{let{type:a,pattern:l}=t;return 1}}];function I(e){let{ruleString:t,defaultRandomSeed:a}=e,[r,m]=(0,s.useState)("rows"),[x,_]=(0,s.useState)(""),[f,g]=(0,s.useState)(a),[y,v]=(0,s.useState)(""),[j,b]=(0,s.useState)(18),[C,T]=(0,s.useState)(2),[N,I]=(0,s.useState)(()=>w[C]()),[F,B]=(0,s.useState)(!1),[k,O]=(0,s.useState)(0),E=y||f,M=(0,s.useMemo)(()=>n()(E),[x,E,C,N]),H=(0,s.useMemo)(()=>(function(e){let t=e.split(/[\r\n]+/).map(e=>e.trim()).filter(e=>e.length>0),a=new Set,l=new Set,s=new Map,r=new Map;for(let e of t){e.startsWith("-")&&(e.includes("*")?l.add(e.slice(1)):a.add(e.slice(1)));let[t,n]=e.split("->").map(e=>e.trim());if(t&&n){let e=n.split(",");t.includes("*")?r.set(t,e):s.set(t,e)}}return{stopWords:a,stopPatterns:l,exactSubs:s,patternSubs:r}})(t),[t]),R=(0,s.useMemo)(()=>(function(e){let{getRandom:t=c,getProbability:a=d()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=[],s=[];for(let t of e.stopPatterns){let e=p(t),a=t=>e.test(t);l.push(a)}for(let[l,r]of e.patternSubs.entries()){let e=r.map(e=>(function(e,t){let a=[],l=[];for(let t of e.split(","))t.startsWith("-")?l.push(t.slice(1)):a.push(t);let s=a.map(e=>p(e)),r=l.map(e=>p(e)),n=s[0],o=1,u=t.replace(/\*/g,()=>"$".concat(o++));return e=>{let t=s.every(t=>t.test(e))&&!r.some(t=>t.test(e));return{match:t,output:t?e.replace(n,u):e}}})(l,e)),n=s=>{let r=h(e,t)(s);if(!r.match)return r;{let e=a(s,{type:"pattern",pattern:l});return t()<e?r:{match:!1,output:s}}};s.push(n)}return r=>{if(!r)return r;let n=r.toLowerCase(),o=r===r.toUpperCase(),u=r===n,i=r[0]===r[0].toUpperCase()&&!o&&!u,c=e=>e===n?r:o?e.toUpperCase():i?e[0].toUpperCase()+e.slice(1):e;if(e.stopWords.has(n))return r;for(let e of l)if(e(n))return r;if(e.exactSubs.has(n)){let l=e.exactSubs.get(n),s=a(r,{type:"exact",pattern:n});return t()<s?c(h(l,t)):r}if(r.length<=2)return r;for(let e of s){let t=e(n);if(t.match)return c(t.output)}return r}})(H,{getRandom:M,getProbability:N}),[H,M,N]),z=(0,s.useCallback)(e=>e.split(/(n['â€™]t|\W+)/).map(R).join(""),[x,R]),P=(0,s.useMemo)(()=>z(x.trim()),[z,x]),G=(0,s.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=[];for(let l of e.split(/([\r\n]+)/).filter(Boolean))if(""!==l.trim()){let e="",s=l.split(/[ \t]+/);for(let l=0;l<s.length;l++){let r=s[l],n=e?e+" "+r:r;n.length>t?e?(a.push(e),e=r):(a.push(n),e=""):n.length===t?(a.push(n),e=""):e=n}e&&a.push(e)}else a.push(l);return a})(P,j),[P,j]);return(0,s.useEffect)(()=>{navigator.clipboard&&navigator.clipboard.writeText&&B(!0)},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{let t=await w[C]();e||I(()=>t)})(),()=>{e=!0}},[C]),(0,s.useEffect)(()=>{if(k){let e=setTimeout(()=>{O(0)},2e3);return()=>{clearTimeout(e)}}},[k]),(0,l.jsxs)("form",{className:L().Translator,children:[(0,l.jsxs)("header",{className:L().Header,children:[(0,l.jsxs)("div",{className:L().Title,children:[(0,l.jsx)("h1",{children:(0,l.jsx)("span",{className:L().Bar,children:"Snacklish"})}),(0,l.jsx)("h2",{children:"Improved flavor!"})]}),(0,l.jsx)(S,{layout:r,setLayout:m,barSize:j,setBarSize:b,hungerLevel:C,setHungerLevel:T,autoRandomSeed:f,customRandomSeed:y,setCustomRandomSeed:v,setProbabilityFunction:I})]}),(0,l.jsxs)("div",{className:L().Texts,"data-layout":r,children:[(0,l.jsx)("div",{className:L().Input,children:(0,l.jsx)("textarea",{autoFocus:!0,className:L().InputText,cols:30,rows:2,value:x,placeholder:"Type anything here",onChange:e=>{_(e.target.value),e.target.value||g((0,o.A)({length:6,type:"hex"}))}})}),(0,l.jsxs)("div",{className:L().Output,children:[(0,l.jsx)("output",{className:L().OutputText,children:G.map((e,t)=>e.trim()?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)("span",{className:L().Bar,children:e}),G[t+1]&&G[t+1].trim()?" ":""]},t):e)},P),P&&F?(0,l.jsxs)("button",{className:L().CopyButton,type:"button","aria-label":"Copy to clipboard",title:"Copy to clipboard",onClick:async e=>{try{await navigator.clipboard.writeText(P),O(e=>e+1)}catch(e){}},children:[k?(0,l.jsx)(i.aZA,{}):(0,l.jsx)(u.DJI,{})," ","Copy"]}):null]})]})]})}},3390:e=>{e.exports={Controls:"Controls_Controls__54Bmd",Fields:"Controls_Fields__yqr4e",ToggleButton:"Controls_ToggleButton__P50oP",ToggleIcon:"Controls_ToggleIcon__T_lGk",Field:"Controls_Field__QzqVd",Input:"Controls_Input__Ih5GC"}},3423:e=>{e.exports={LayoutSelector:"LayoutSelector_LayoutSelector__BY36c",Label:"LayoutSelector_Label__5r346",LayoutIcon:"LayoutSelector_LayoutIcon__ck4kh",LayoutTextLabel:"LayoutSelector_LayoutTextLabel__6cRk7"}},9351:e=>{e.exports={Slider:"HungerLevel_Slider__HEOVL"}},9684:(e,t,a)=>{Promise.resolve().then(a.bind(a,2628))}},e=>{var t=t=>e(e.s=t);e.O(0,[922,571,140,422,141,347,870,358],()=>t(9684)),_N_E=e.O()}]);