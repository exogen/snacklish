(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{382:()=>{},1450:e=>{e.exports={Header:"Translator_Header__7JCUx",Bar:"Translator_Bar__CfQEa",Translator:"Translator_Translator__soXIY",Title:"Translator_Title__H9Gbx",Texts:"Translator_Texts__cZLX5",Input:"Translator_Input__iw6s4",Output:"Translator_Output__hEO8N",InputText:"Translator_InputText__nKjmf",OutputText:"Translator_OutputText__Fb3cQ"}},2628:(e,t,l)=>{"use strict";l.d(t,{Translator:()=>I});var a=l(3365),s=l(1521),n=l(5709),r=l.n(n),o=l(4514);function u(){return Math.random()}function i(){return(e,t)=>{let{type:l,pattern:a}=t;return a.split(",")[0].length/5}}function c(e){return new RegExp("^".concat(e,"$").replace(/\*/g,"(.+)"))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,l=Math.floor(t()*e.length);return e[l]}async function h(){return(await l.e(541).then(l.t.bind(l,1541,17))).default}var p=l(7363),m=l(6313),x=l(3423),_=l.n(x);function g(e){let{value:t,onChange:l}=e;return(0,a.jsxs)("fieldset",{className:_().LayoutSelector,children:[(0,a.jsx)("legend",{children:(0,a.jsx)("span",{className:_().Label,children:"Layout"})}),(0,a.jsxs)("div",{className:_().Option,children:[(0,a.jsx)("input",{type:"radio",name:"layout",id:"layout-rows",value:"rows",checked:"rows"===t,onChange:e=>{l(e.target.value)}}),(0,a.jsx)("label",{htmlFor:"layout-rows",children:(0,a.jsx)(m.rMd,{className:_().LayoutIcon,title:"Rows","aria-label":"Rows"})})]}),(0,a.jsxs)("div",{className:_().Option,children:[(0,a.jsx)("input",{type:"radio",name:"layout",id:"layout-columns",value:"columns",checked:"columns"===t,onChange:e=>{l(e.target.value)}}),(0,a.jsx)("label",{htmlFor:"layout-columns",children:(0,a.jsx)(m.dK6,{className:_().LayoutIcon,title:"Columns","aria-label":"Columns"})})]})]})}var f=l(3390),v=l.n(f),j=l(1444),y=l(9351),S=l.n(y);function T(e){let{value:t,onChange:l}=e;return(0,a.jsx)(j.A,{id:"hungerLevel",className:S().Slider,min:1,max:3,value:t,onChange:l})}function b(e){let{layout:t,setLayout:l,barSize:n,setBarSize:r,hungerLevel:o,setHungerLevel:u,customRandomSeed:i,setCustomRandomSeed:c,autoRandomSeed:d,setProbabilityFunction:h}=e,[m,x]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:v().Controls,"data-state":m?"open":"closed",children:[(0,a.jsxs)("button",{className:v().ToggleButton,type:"button",onClick:e=>{x(e=>!e)},children:[(0,a.jsx)(p.OiG,{className:v().ToggleIcon})," Chocontrols"]}),(0,a.jsxs)("div",{className:v().Fields,children:[(0,a.jsx)(g,{value:t,onChange:l}),(0,a.jsxs)("div",{className:v().Field,children:[(0,a.jsx)("label",{htmlFor:"hungerLevel",children:"Hunger Level"}),(0,a.jsx)(T,{value:o,onChange:u})]}),(0,a.jsxs)("div",{className:v().Field,children:[(0,a.jsx)("label",{htmlFor:"randomSeed",children:"Random Seed"}),(0,a.jsx)("input",{className:v().Input,id:"randomSeed",type:"text",size:6,value:i,placeholder:d,onChange:e=>{c(e.target.value)}})]}),(0,a.jsxs)("div",{className:v().Field,children:[(0,a.jsx)("label",{htmlFor:"barSize",children:"Bar Size"}),(0,a.jsx)("input",{className:v().Input,id:"barSize",type:"number",min:1,max:30,value:n,onChange:e=>{r(+e.target.value)}})]})]})]})}var C=l(1450),N=l.n(C);let L=[function(){return(e,t)=>{let{type:l,pattern:a}=t;return 0}},function(){return(e,t)=>{let{type:l,pattern:a}=t,s=a.split(",")[0];return"exact"===l?s.length/6:s.length/7}},i,function(){return(e,t)=>{let{type:l,pattern:a}=t;return 1}}];function I(e){let{ruleString:t,defaultRandomSeed:l}=e,[n,h]=(0,s.useState)("rows"),[p,m]=(0,s.useState)(""),[x,_]=(0,s.useState)(l),[g,f]=(0,s.useState)(""),[v,j]=(0,s.useState)(18),[y,S]=(0,s.useState)(2),[T,C]=(0,s.useState)(()=>L[y]()),I=g||x,w=(0,s.useMemo)(()=>r()(I),[p,I,y,T]),F=(0,s.useMemo)(()=>(function(e){let t=e.split(/[\r\n]+/).map(e=>e.trim()).filter(e=>e.length>0),l=new Set,a=new Set,s=new Map,n=new Map;for(let e of t){e.startsWith("-")&&(e.includes("*")?a.add(e.slice(1)):l.add(e.slice(1)));let[t,r]=e.split("->").map(e=>e.trim());if(t&&r){let e=r.split(",");t.includes("*")?n.set(t,e):s.set(t,e)}}return{stopWords:l,stopPatterns:a,exactSubs:s,patternSubs:n}})(t),[t]),k=(0,s.useMemo)(()=>(function(e){let{getRandom:t=u,getProbability:l=i()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],s=[];for(let t of e.stopPatterns){let e=c(t),l=t=>e.test(t);a.push(l)}for(let[a,n]of e.patternSubs.entries()){let e=n.map(e=>(function(e,t){let l=[],a=[];for(let t of e.split(","))t.startsWith("-")?a.push(t.slice(1)):l.push(t);let s=l.map(e=>c(e)),n=a.map(e=>c(e)),r=s[0],o=1,u=t.replace(/\*/g,()=>"$".concat(o++));return e=>{let t=s.every(t=>t.test(e))&&!n.some(t=>t.test(e));return{match:t,output:t?e.replace(r,u):e}}})(a,e)),r=s=>{let n=d(e,t)(s);if(!n.match)return n;{let e=l(s,{type:"pattern",pattern:a});return t()<e?n:{match:!1,output:s}}};s.push(r)}return n=>{if(!n||e.stopWords.has(n))return n;for(let e of a)if(e(n))return n;if(e.exactSubs.has(n)){let a=e.exactSubs.get(n),s=l(n,{type:"exact",pattern:n});return t()<s?d(a):n}if(n.length<=2)return n;for(let e of s){let t=e(n);if(t.match)return t.output}return n}})(F,{getRandom:w,getProbability:T}),[F,w,T]),O=(0,s.useCallback)(e=>e.split(/(n['â€™]t|\W+)/).map(k).join(""),[p,k]),B=(0,s.useMemo)(()=>p===p.toUpperCase(),[p]),M=(0,s.useMemo)(()=>{let e=O(p.trim().toLowerCase());return B?e.toUpperCase():e},[O,p,B]),E=(0,s.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,l=[];for(let a of e.split(/([\r\n]+)/).filter(Boolean))if(""!==a.trim()){let e="",s=a.split(/[ \t]+/);for(let a=0;a<s.length;a++){let n=s[a],r=e?e+" "+n:n;r.length>t?e?(l.push(e),e=n):(l.push(r),e=""):r.length===t?(l.push(r),e=""):e=r}e&&l.push(e)}else l.push(a);return l})(M,v),[M,v]);return(0,s.useEffect)(()=>{let e=!1;return(async()=>{let t=await L[y]();e||C(()=>t)})(),()=>{e=!0}},[y]),(0,a.jsxs)("form",{className:N().Translator,children:[(0,a.jsxs)("header",{className:N().Header,children:[(0,a.jsxs)("div",{className:N().Title,children:[(0,a.jsx)("h1",{children:(0,a.jsx)("span",{className:N().Bar,children:"Snacklish"})}),(0,a.jsx)("h2",{children:"Improved flavor!"})]}),(0,a.jsx)(b,{layout:n,setLayout:h,barSize:v,setBarSize:j,hungerLevel:y,setHungerLevel:S,autoRandomSeed:x,customRandomSeed:g,setCustomRandomSeed:f,setProbabilityFunction:C})]}),(0,a.jsxs)("div",{className:N().Texts,"data-layout":n,children:[(0,a.jsx)("div",{className:N().Input,children:(0,a.jsx)("textarea",{autoFocus:!0,className:N().InputText,cols:30,rows:2,value:p,placeholder:"Type anything here",onChange:e=>{m(e.target.value),e.target.value||_((0,o.A)({length:6,type:"hex"}))}})}),(0,a.jsx)("div",{className:N().Output,children:(0,a.jsx)("output",{className:N().OutputText,children:E.map((e,t)=>e.trim()?(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("span",{className:N().Bar,children:e}),E[t+1]&&E[t+1].trim()?" ":""]},t):e)},M)})]})]})}},3390:e=>{e.exports={Controls:"Controls_Controls__54Bmd",Fields:"Controls_Fields__yqr4e",ToggleButton:"Controls_ToggleButton__P50oP",ToggleIcon:"Controls_ToggleIcon__T_lGk",Field:"Controls_Field__QzqVd",Input:"Controls_Input__Ih5GC"}},3423:e=>{e.exports={LayoutSelector:"LayoutSelector_LayoutSelector__BY36c",Label:"LayoutSelector_Label__5r346",LayoutIcon:"LayoutSelector_LayoutIcon__ck4kh",LayoutTextLabel:"LayoutSelector_LayoutTextLabel__6cRk7"}},9351:e=>{e.exports={Slider:"HungerLevel_Slider__HEOVL"}},9684:(e,t,l)=>{Promise.resolve().then(l.bind(l,2628))}},e=>{var t=t=>e(e.s=t);e.O(0,[922,140,422,141,347,870,358],()=>t(9684)),_N_E=e.O()}]);