(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1450:t=>{t.exports={Bar:"Translator_Bar__CfQEa",Translator:"Translator_Translator__soXIY",Title:"Translator_Title__H9Gbx",Texts:"Translator_Texts__cZLX5",Input:"Translator_Input__iw6s4",Output:"Translator_Output__hEO8N",InputText:"Translator_InputText__nKjmf",OutputText:"Translator_OutputText__Fb3cQ"}},8685:(t,e,r)=>{"use strict";r.d(e,{Translator:()=>f});var n=r(3365),s=r(1521);function a(){return Math.random()}function l(){return(t,e)=>{let{type:r,pattern:n}=e;return n.split(",")[0].length/5}}async function u(){return(t,e)=>{let{type:r,pattern:n}=e,s=n.split(",")[0];return"exact"===r?s.length/6:s.length/7}}function i(t){return new RegExp("^".concat(t,"$").replace(/\*/g,"(.+)"))}function o(t){return t[Math.floor(a()*t.length)]}var c=r(1450),p=r.n(c);let h=[function(){return(t,e)=>{let{type:r,pattern:n}=e;return 0}},u,l,function(){return(t,e)=>{let{type:r,pattern:n}=e;return 1}}];function f(t){let{ruleString:e}=t,[r,u]=(0,s.useState)(""),[c,f]=(0,s.useState)(2),[m,x]=(0,s.useTransition)(),[d,_]=(0,s.useState)(()=>l()),T=(0,s.useMemo)(()=>(function(t){let e=t.split(/[\r\n]+/).map(t=>t.trim()).filter(t=>t.length>0),r=new Set,n=new Set,s=new Map,a=new Map;for(let t of e){t.startsWith("-")&&(t.includes("*")?n.add(t.slice(1)):r.add(t.slice(1)));let[e,l]=t.split("->").map(t=>t.trim());if(e&&l){let t=l.split(",");e.includes("*")?a.set(e,t):s.set(e,t)}}return{stopWords:r,stopPatterns:n,exactSubs:s,patternSubs:a}})(e),[e]),g=(0,s.useMemo)(()=>(function(t,e){let{getProbability:r}=e,n=[],s=[];for(let e of t.stopPatterns){let t=i(e),r=e=>t.test(e);n.push(r)}for(let[e,n]of t.patternSubs.entries()){let t=n.map(t=>(function(t,e){let r=[],n=[];for(let e of t.split(","))e.startsWith("-")?n.push(e.slice(1)):r.push(e);let s=r.map(t=>i(t)),a=n.map(t=>i(t)),l=s[0],u=1,o=e.replace(/\*/g,()=>"$".concat(u++));return t=>{let e=s.every(e=>e.test(t))&&!a.some(e=>e.test(t));return{match:e,output:e?t.replace(l,o):t}}})(e,t)),l=n=>{let s=o(t)(n);if(!s.match)return s;{let t=r(n,{type:"pattern",pattern:e});return a()<t?s:{match:!1,output:n}}};s.push(l)}return e=>{if(!e||t.stopWords.has(e))return e;for(let t of n)if(t(e))return e;if(t.exactSubs.has(e)){let n=t.exactSubs.get(e),s=r(e,{type:"exact",pattern:e});return a()<s?o(n):e}if(e.length<=2)return e;for(let t of s){let r=t(e);if(r.match)return r.output}return e}})(T,{getProbability:d}),[T,d]),v=(0,s.useCallback)(t=>t.split(/([\W]+)/).map(g).join(""),[r,g]),j=(0,s.useMemo)(()=>r===r.toUpperCase(),[r]),N=(0,s.useMemo)(()=>{let t=v(r.trim().toLowerCase());return j?t.toUpperCase():t},[v,r,j]),b=(0,s.useMemo)(()=>(function(t){let e=[];for(let r of t.split(/([\r\n]+)/).filter(Boolean))if(""!==r.trim()){let t="",n=r.split(/[ \t]+/);for(let r=0;r<n.length;r++){let s=n[r];t?t+=" "+s:t=s,t.length>=15&&(e.push(t),t="")}t&&e.push(t)}else e.push(r);return e})(N),[N]);return(0,n.jsxs)("form",{className:p().Translator,children:[(0,n.jsxs)("header",{children:[(0,n.jsxs)("div",{className:p().Title,children:[(0,n.jsx)("h1",{children:(0,n.jsx)("span",{className:p().Bar,children:"Snacklish"})}),(0,n.jsx)("h2",{children:"Improved flavor!"})]}),(0,n.jsxs)("div",{className:p().Controls,children:[(0,n.jsx)("label",{htmlFor:"hungerLevel",children:"Hunger Level"}),(0,n.jsx)("input",{id:"hungerLevel",type:"range",min:1,max:3,value:c,onChange:t=>{let e=+t.target.value;f(e),x(async()=>{let t=await h[e]();x(()=>{_(()=>t)})})}})]})]}),(0,n.jsxs)("div",{className:p().Texts,children:[(0,n.jsx)("div",{className:p().Input,children:(0,n.jsx)("textarea",{className:p().InputText,cols:80,rows:10,value:r,onChange:t=>{u(t.target.value)}})}),(0,n.jsx)("div",{className:p().Output,children:(0,n.jsx)("output",{className:p().OutputText,children:b.map((t,e)=>t.trim()?(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("span",{className:p().Bar,children:t}),b[e+1]&&b[e+1].trim()?" ":""]},e):t)})})]})]})}},9684:(t,e,r)=>{Promise.resolve().then(r.bind(r,8685))}},t=>{var e=e=>t(t.s=e);t.O(0,[893,347,870,358],()=>e(9684)),_N_E=t.O()}]);